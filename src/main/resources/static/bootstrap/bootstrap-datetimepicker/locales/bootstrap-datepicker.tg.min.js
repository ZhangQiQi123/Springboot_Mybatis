ion.beginTransaction();	
					statewaterService.update(statewater1);
					
					TbStatewater statewater2=new TbStatewater();
					statewater2.setStatedate(date);
					statewater2.setStateremark(0);
					
					statewaterService.save(statewater2);
					
					//修改batchstate表中的跑批状态为0
					String sql2="update tbbatchstate set iBatchState=0";
					int result2=batchstateService2.executeSql(sql2);
					if (result2>0) {
						String msg="执行完毕！";
						map.put("msg", msg);						
					}else {
						String msg="执行失败！";
					}
					//修改statesignin表中的签到状态为 0
					String sql4="update tbstatesignin set cstatesignin=0";
					int result4=statesigninS